#fk = FOREIGN KEY(CHAVE ESTRANGEIRA)

#CREATE USER 'admin'@'localhost' IDENTIFIED BY '123';
#GRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost';
#FLUSH PRIVILEGES;

CREATE DATABASE projetot27;
USE projetot27;

CREATE TABLE usuarios(
    usu_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    usu_nome VARCHAR(50) NOT NULL,
    usu_senha VARCHAR(50) NOT NULL
    );

CREATE TABLE produtos(
	pro_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	pro_descricao VARCHAR(50),
	pro_quantidade INT,
	pro_preco FLOAT(5,2)
);

CREATE TABLE clientes(
	cli_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	cli_cpf BIGINT,
	cli_nome VARCHAR(50),
	cli_datanasc DATE,
	cli_telefone INT,
	cli_logradouro VARCHAR(100),
	cli_numero VARCHAR(10),
	cli_cidade VARCHAR(50),
	cli_ativo CHAR(1)
);

CREATE TABLE vendas(
    ven_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    ven_valorvenda DECIMAL(10,2),
    ven_datavenda DATE,
    fk_cli_id INT,
    fk_pro_id INT
    );
    
ALTER TABLE vendas ADD CONSTRAINT fk_cli_id_ven FOREIGN KEY(fk_cli_id) REFERENCES clientes(cli_id);
ALTER TABLE vendas ADD CONSTRAINT fk_pro_id_ven FOREIGN KEY(fk_pro_id) REFERENCES produtos(pro_id);


CREATE TABLE itens_carrinho(
	carrinho_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    fk_pro_id INT,
   	fk_cli_id INT,
    item_quantidade INT,
    valor_carrinho DECIMAL(10,2)
);


